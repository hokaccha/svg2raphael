(function() {

var eval_js = function(code) {
    try {
        $('#raphael_canvas').empty();
        eval(code);
    } catch (e) {
        console.error(e);
    }
};
$('#svg_canvas').html($('#svg textarea').val());

$('#svg textarea').bind('keyup change', function() {
    $('#svg_canvas').html(this.value);
});

$('#raphael textarea').bind('keyup change', function() {
    eval_js(this.value);
});

$('#to_raphael img').click(function() {
    $.post('/convert', { svg: $('#svg textarea').val() }, function(data) {
        $('#raphael textarea').val(data);
        eval_js(data);
    });
});

if ($.browser.msie && $.browser.version < 9) {
    $('#logo').empty().css({
        position: 'relative',
        top: 22,
        left: 27
    });
    var paper = Raphael('logo', '600px', '115px');

    paper.path('M55.703,0l-5.076,20.664h-1.482c-0.33-3.234-0.914-5.824-1.752-7.771c-1.258-2.814-2.928-4.986-5.009-6.514  c-2.082-1.527-4.335-2.291-6.761-2.291c-2.336,0-4.38,0.892-6.132,2.673c-1.752,1.782-2.628,3.796-2.628,6.042  c0,2.217,0.606,4.396,1.819,6.536c1.213,2.142,4.08,5.368,8.603,9.681c3.623,3.444,6.057,6.409,7.3,8.895  c1.242,2.486,1.864,5.182,1.864,8.086c0,3.265-0.869,6.274-2.605,9.029c-1.737,2.756-4.261,4.89-7.569,6.401  c-3.31,1.512-7.061,2.269-11.253,2.269c-2.576,0-5.817-0.382-9.726-1.146s-6.507-1.146-7.794-1.146c-1.019,0-1.932,0.157-2.74,0.472  s-1.812,0.921-3.01,1.819H0l5.436-23.225h1.707c0.389,4.073,1.213,7.54,2.471,10.399c1.258,2.86,3.055,5.092,5.391,6.693  c2.336,1.603,5.001,2.403,7.996,2.403c2.965,0,5.442-0.98,7.435-2.942c1.991-1.961,2.987-4.26,2.987-6.896  c0-2.246-0.562-4.402-1.685-6.469s-3.684-5.076-7.682-9.029s-6.761-7.486-8.288-10.602c-1.108-2.306-1.662-4.762-1.662-7.367  c0-4.521,1.781-8.43,5.346-11.725C23.015,1.647,27.672,0,33.422,0c2.605,0,6.034,0.584,10.287,1.752  c2.485,0.689,4.237,1.033,5.256,1.033c0.868,0,1.646-0.187,2.336-0.562C51.989,1.85,52.798,1.108,53.727,0H55.703z').attr({'stroke':'none', 'fill':'#468CCB'});
    paper.path('M67.562,63.699l1.977-50.941c0.09-2.965,0.135-4.521,0.135-4.672c0-1.646-0.397-2.859-1.19-3.639  c-0.794-0.778-2.254-1.242-4.38-1.393l0.539-1.662h25.605l-0.494,1.662c-2.187,0-3.841,0.659-4.964,1.977  c-1.123,1.318-1.774,4.043-1.954,8.176l-1.438,31.76l23.764-27.582c3.084-3.563,4.986-6.034,5.705-7.412  c0.719-1.377,1.078-2.575,1.078-3.594c0-0.748-0.33-1.415-0.988-1.999c-0.659-0.584-1.917-1.025-3.773-1.325l0.629-1.662h16.801  v1.662c-1.438,0.359-2.605,0.884-3.504,1.572c-1.318,0.988-3.354,3.085-6.109,6.289L69.539,63.699H67.562z').attr({'stroke':'none', 'fill':'#468CCB'});
    paper.path('M183.281,0l-4.223,19.541h-1.707c-0.24-5.689-1.521-9.785-3.841-12.286c-2.321-2.5-5.578-3.751-9.771-3.751  c-4.312,0-8.625,1.521-12.938,4.56c-4.312,3.04-7.989,7.727-11.028,14.061c-3.04,6.334-4.56,12.99-4.56,19.968  c0,5.99,1.348,10.564,4.043,13.724c2.695,3.16,5.854,4.739,9.479,4.739c1.527,0,3.384-0.434,5.57-1.303l4.672-16.082  c0.778-2.695,1.168-4.462,1.168-5.301c0-1.107-0.472-2.044-1.415-2.808s-2.568-1.146-4.874-1.146l0.449-1.707h26.279l-0.404,1.707  c-1.558,0.09-2.778,0.382-3.661,0.876c-0.884,0.494-1.58,1.221-2.089,2.179c-0.3,0.569-0.764,2.037-1.393,4.402l-5.525,18.732  c-6.289,2.396-12.908,3.594-19.855,3.594c-5.361,0-9.921-0.974-13.679-2.92c-3.759-1.946-6.873-5.031-9.344-9.254  s-3.706-9.029-3.706-14.42c0-11.5,5.105-20.979,15.318-28.436C144.244,2.891,153.318,0,163.471,0c1.767,0,3.398,0.09,4.896,0.27  c1.107,0.15,3.055,0.569,5.84,1.258c1.797,0.449,3.024,0.674,3.684,0.674c1.317,0,2.561-0.733,3.729-2.201H183.281z').attr({'stroke':'none', 'fill':'#468CCB'});
    paper.path('M213.693,62.307H181.35v-1.662c8.415-7.786,15.513-14.943,21.293-21.473  c4.852-5.42,7.898-9.561,9.142-12.421c1.242-2.859,1.864-5.742,1.864-8.647c0-2.725-0.861-4.941-2.583-6.648  c-1.723-1.707-3.871-2.561-6.446-2.561c-4.163,0-7.727,2.291-10.691,6.873l-1.662-0.764c1.557-4.432,3.578-7.801,6.064-10.107  c3.443-3.174,7.486-4.762,12.129-4.762c4.312,0,7.884,1.333,10.714,3.998c2.83,2.666,4.245,5.75,4.245,9.254  c0,3.085-0.689,6.132-2.066,9.142c-1.378,3.01-4.223,6.791-8.535,11.343c-3.295,3.475-9.973,9.509-20.035,18.104h11.725  c3.773,0,6.416-0.427,7.929-1.28c1.512-0.854,2.927-2.567,4.245-5.144h2.111L213.693,62.307z').attr({'stroke':'none', 'fill':'#323333'});
    paper.path('M253.405,32.568l-5.391,18.463c-0.779,2.605-1.168,4.522-1.168,5.75c0,1.139,0.464,2.052,1.393,2.74  c0.928,0.689,2.86,1.063,5.795,1.123l-0.629,1.662H224.07l0.539-1.662c2.935,0,5.083-0.568,6.446-1.707  c1.362-1.138,2.612-3.684,3.751-7.637l11.32-39.082c0.629-2.186,0.943-3.908,0.943-5.166c0-1.197-0.39-2.111-1.168-2.74  c-0.779-0.629-2.591-1.048-5.436-1.258l0.449-1.662h25.247c7.217,0,12.293,1.258,15.229,3.773c2.934,2.516,4.402,5.75,4.402,9.703  c0,4.163-1.707,7.922-5.121,11.275c-2.156,2.097-5.975,3.908-11.455,5.436l5.48,18.463c1.467,4.941,2.746,7.922,3.84,8.939  c1.094,1.019,2.912,1.572,5.459,1.662v1.662H265.04l-8.625-29.738l-1.482,0.09C254.602,32.658,254.092,32.629,253.405,32.568z   M254.034,29.873c1.047,0.061,1.932,0.09,2.65,0.09c4.371,0,7.965-1.497,10.781-4.492c2.814-2.994,4.223-6.918,4.223-11.77  c0-2.875-0.75-5.061-2.246-6.559c-1.498-1.497-3.475-2.246-5.93-2.246c-0.6,0-1.303,0.016-2.111,0.045L254.034,29.873z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M332.422,21.293l-8.715,29.873l-0.898,3.639c-0.09,0.449-0.135,0.779-0.135,0.988  c0,0.359,0.127,0.674,0.382,0.943c0.254,0.27,0.517,0.404,0.786,0.404c0.629,0,1.497-0.479,2.605-1.438  c0.449-0.389,1.527-1.767,3.234-4.133l1.572,0.809c-2.127,3.894-4.396,6.731-6.806,8.513c-2.411,1.781-5.009,2.673-7.794,2.673  c-1.707,0-3.01-0.442-3.908-1.325s-1.348-1.999-1.348-3.347c0-1.168,0.479-3.339,1.438-6.514l1.078-3.639  c-3.475,5.96-6.813,10.183-10.018,12.668c-1.857,1.438-3.834,2.156-5.93,2.156c-2.756,0-4.747-1.131-5.975-3.392  c-1.229-2.261-1.842-4.813-1.842-7.659c0-4.223,1.287-9.066,3.863-14.532c2.575-5.465,5.959-9.86,10.152-13.185  c3.443-2.755,6.678-4.133,9.703-4.133c1.677,0,3.024,0.487,4.043,1.46c1.018,0.974,1.767,2.748,2.246,5.323l1.617-5.525  L332.422,21.293z M318.047,29.828c0-2.426-0.375-4.178-1.123-5.256c-0.539-0.748-1.273-1.123-2.201-1.123  c-0.929,0-1.887,0.449-2.875,1.348c-2.007,1.857-4.171,5.623-6.491,11.298c-2.321,5.676-3.481,10.579-3.481,14.712  c0,1.588,0.262,2.733,0.786,3.437c0.523,0.704,1.101,1.056,1.729,1.056c1.348,0,2.71-0.778,4.088-2.336  c1.977-2.216,3.758-4.926,5.346-8.131C316.639,39.202,318.047,34.201,318.047,29.828z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M339.924,23.18l14.869-2.516h2.695l-2.021,7.322c3.145-2.875,5.72-4.813,7.727-5.817  c2.006-1.003,3.998-1.505,5.975-1.505c2.814,0,4.986,1.086,6.514,3.257c1.527,2.172,2.291,4.829,2.291,7.974  c0,8.596-2.98,16.217-8.939,22.865c-5.271,5.87-11.021,8.805-17.25,8.805c-1.108,0-2.052-0.105-2.83-0.314  c-0.779-0.21-1.872-0.674-3.279-1.393l-2.336,8.086c-0.839,2.935-1.258,5.166-1.258,6.693c0,0.958,0.329,1.714,0.988,2.269  c0.658,0.554,2.201,1.025,4.627,1.415l-0.404,1.662h-24.168l0.449-1.662c1.917-0.061,3.512-0.674,4.784-1.842  c1.273-1.168,2.464-3.684,3.571-7.547l10.961-37.779c0.809-2.814,1.213-4.807,1.213-5.975c0-0.509-0.12-0.936-0.359-1.28  c-0.24-0.344-0.6-0.591-1.078-0.741c-0.479-0.149-1.558-0.225-3.234-0.225L339.924,23.18z M346.932,57.68  c0.898,1.468,1.707,2.448,2.426,2.942s1.557,0.741,2.516,0.741c0.958,0,1.894-0.262,2.808-0.786  c0.913-0.523,2.044-1.579,3.392-3.167c1.348-1.587,2.643-3.623,3.886-6.109c1.242-2.485,2.238-5.308,2.987-8.468  c0.748-3.159,1.123-6.177,1.123-9.052c0-2.306-0.412-3.982-1.235-5.031c-0.824-1.048-1.819-1.572-2.987-1.572  c-1.049,0-2.037,0.27-2.965,0.809c-1.348,0.779-2.936,2.231-4.762,4.357L346.932,57.68z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M410.586,0l-11.68,40.475c4.043-5.959,6.978-9.987,8.805-12.084c2.725-3.024,5.068-5.068,7.03-6.132  c1.961-1.062,3.841-1.595,5.638-1.595c1.527,0,2.837,0.577,3.931,1.729c1.093,1.153,1.64,2.688,1.64,4.604  c0,1.617-0.359,3.639-1.078,6.064l-5.705,19.137c-0.51,1.678-0.764,2.801-0.764,3.369c0,0.27,0.104,0.517,0.314,0.741  c0.209,0.225,0.449,0.337,0.719,0.337c0.359,0,0.719-0.149,1.078-0.449c0.958-0.748,1.977-1.946,3.055-3.594  c0.27-0.419,0.703-1.048,1.303-1.887l1.752,0.988c-2.576,4.253-5.017,7.173-7.322,8.76c-2.307,1.588-4.492,2.381-6.559,2.381  c-1.857,0-3.31-0.479-4.357-1.438c-1.049-0.958-1.572-2.156-1.572-3.594c0-1.317,0.359-3.189,1.078-5.615l5.57-19.137  c0.359-1.317,0.539-2.275,0.539-2.875c0-0.329-0.128-0.621-0.382-0.876c-0.255-0.254-0.547-0.382-0.876-0.382  c-1.078,0-2.561,0.898-4.447,2.695c-3.894,3.684-7.787,9.464-11.68,17.34l-3.998,13.342h-11.141l14.734-50.762  c0.599-2.156,0.898-3.698,0.898-4.627c0-0.748-0.3-1.332-0.898-1.752c-0.779-0.568-1.977-0.809-3.594-0.719l0.314-1.797L407.891,0  H410.586z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M475.588,21.293l-8.715,29.873l-0.898,3.639c-0.09,0.449-0.135,0.779-0.135,0.988  c0,0.359,0.127,0.674,0.382,0.943c0.254,0.27,0.517,0.404,0.786,0.404c0.629,0,1.497-0.479,2.605-1.438  c0.449-0.389,1.527-1.767,3.234-4.133l1.572,0.809c-2.127,3.894-4.396,6.731-6.806,8.513c-2.411,1.781-5.009,2.673-7.794,2.673  c-1.707,0-3.01-0.442-3.908-1.325s-1.348-1.999-1.348-3.347c0-1.168,0.479-3.339,1.438-6.514l1.078-3.639  c-3.475,5.96-6.813,10.183-10.018,12.668c-1.857,1.438-3.834,2.156-5.93,2.156c-2.756,0-4.747-1.131-5.975-3.392  c-1.229-2.261-1.842-4.813-1.842-7.659c0-4.223,1.287-9.066,3.863-14.532c2.575-5.465,5.959-9.86,10.152-13.185  c3.443-2.755,6.678-4.133,9.703-4.133c1.677,0,3.024,0.487,4.043,1.46c1.018,0.974,1.767,2.748,2.246,5.323l1.617-5.525  L475.588,21.293z M461.213,29.828c0-2.426-0.375-4.178-1.123-5.256c-0.539-0.748-1.273-1.123-2.201-1.123  c-0.929,0-1.887,0.449-2.875,1.348c-2.007,1.857-4.171,5.623-6.491,11.298c-2.321,5.676-3.481,10.579-3.481,14.712  c0,1.588,0.262,2.733,0.786,3.437c0.523,0.704,1.101,1.056,1.729,1.056c1.348,0,2.71-0.778,4.088-2.336  c1.977-2.216,3.758-4.926,5.346-8.131C459.805,39.202,461.213,34.201,461.213,29.828z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M491.895,45.461c-0.27,1.947-0.404,3.549-0.404,4.807c0,2.246,0.651,4.043,1.954,5.391  s3.047,2.021,5.233,2.021c2.096,0,4.2-0.509,6.312-1.527c2.111-1.018,4.56-2.8,7.345-5.346l1.348,1.213  c-3.444,4.163-6.799,7.128-10.062,8.895c-3.265,1.767-6.873,2.65-10.826,2.65c-5.002,0-8.461-1.198-10.377-3.594  c-1.917-2.396-2.875-5.166-2.875-8.311c0-4.911,1.43-9.822,4.29-14.734c2.859-4.911,6.753-8.85,11.68-11.814  c4.926-2.965,9.875-4.447,14.847-4.447c2.516,0,4.417,0.6,5.705,1.797c1.287,1.198,1.932,2.711,1.932,4.537  c0,2.187-0.629,4.312-1.887,6.379c-1.737,2.815-3.924,5.084-6.559,6.806c-2.636,1.723-5.586,3.032-8.85,3.931  C498.513,44.713,495.579,45.162,491.895,45.461z M492.299,43.125c2.635-0.389,4.679-0.921,6.132-1.595  c1.452-0.674,2.875-1.752,4.268-3.234s2.598-3.354,3.616-5.615c1.018-2.261,1.527-4.38,1.527-6.356c0-0.838-0.232-1.497-0.696-1.977  c-0.465-0.479-1.056-0.719-1.774-0.719c-1.438,0-3.055,1.004-4.852,3.01C497.225,30.293,494.485,35.788,492.299,43.125z').attr({'stroke':'none', 'fill':'#EF953A'});
    paper.path('M547.463,0l-14.869,50.582c-0.869,2.995-1.303,4.867-1.303,5.615c0,0.39,0.127,0.719,0.382,0.988  c0.254,0.27,0.531,0.404,0.831,0.404c0.539,0,1.048-0.209,1.527-0.629c1.438-1.168,3.039-3.145,4.807-5.93l1.752,0.809  c-2.846,4.553-5.646,7.802-8.4,9.748c-1.887,1.317-3.894,1.977-6.02,1.977c-1.977,0-3.549-0.532-4.717-1.595  s-1.752-2.343-1.752-3.841c0-1.107,0.359-2.89,1.078-5.346l12.129-41.418c0.658-2.275,0.988-3.788,0.988-4.537  c0-0.719-0.314-1.287-0.943-1.707c-0.839-0.599-2.111-0.854-3.818-0.764l0.494-1.707L544.768,0H547.463z').attr({'stroke':'none', 'fill':'#EF953A'});
}

})();
